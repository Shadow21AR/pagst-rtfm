#+TITLE: Functions
#+AUTHOR: caubert and jo3-l
Functions are underappreciated. In general, not just in templates. // Rob Pike

Every function having both cases possible for an argument - ID\slash{}name, then this name is handled case insensitive, for example getRole "pagstdb" and getRole "pAgStDb" would have same responses even if server has both of these roles, so using IDs is better.

* Table of Contents :TOC:QUOTE:
:PROPERTIES:
:CUSTOM_ID: table-of-contents
:END:
#+BEGIN_QUOTE
- [[#channel][Channel]]
#+END_QUOTE

* Channel
|-------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Function                            | Description                                                                                                                                                                                                                                                                |
|-------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ~editChannelName channel newName~   | Function edits channel's name. channel can be either ID, "name" or even nil if triggered in that channel name change is intended to happen. ~newName~ has to be of type string. For example  > ~{{editChannelName nil (joinStr "" "PAGST - " (randInt 1000))}}~            |
| ~editChannelTopic channel newTopic~ | Function edits channel's topic\slash{}description. channel can be either ID, "name" or nil if triggered in that channel where name change is intended to happen.  ~newTopic~ has to be of type /string/. For example > ~{{editChannelTopic nil "PAGST is cool"}}~          |
| ~getChannel channel~                | Function returns full channel object of given channel argument which can be either its ID, name or nil for triggering channel, and is of type /*templates.CtxChannel./ For example > ~{{(getChannel nil).Name}}~ returns the name of the channel command was triggered in. |
| ~getChannelOrThread channel~        | Returns type*templates.CtxChannel corresponding to Channel object.                                                                                                                                                                                                         |
| ~getPinCount channel~               | Returns the count of pinned messages in given channel which can be either its ID, name or nil for triggering channel. Can be called 2 times for regular and 4 for premium servers.                                                                                         |
| ~getThread channel~                 | Returns type /*templates.CtxChannel/ corresponding to [[file:templates.org::#channel][channel object]].                                                                                                                                                                                                      |
